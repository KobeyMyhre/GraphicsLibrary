#version 450


layout(triangles, equal_spacing, cw) in;

in vec3 tcPos[];
out vec3 tePosition;
out vec3 tePatchDistance;

layout(location = 2)uniform mat4 Projection;
layout(location = 3)uniform mat4 ModelView;


void main()
{
	vec3 p0 = gl_TessCoord.x * tcPos[0];
	vec3 p1 = gl_TessCoord.y * tcPos[1];
	vec3 p2 = gl_TessCoord.z * tcPos[2];

	tePatchDistance = gl_TessCoord;
	tePosition = normalize(p0+p1+p2);
	gl_Position = Projection * ModelView * vec4(tePosition,1);


}